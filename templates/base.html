{% load static %}
<!--<!DOCTYPE html>-->
<html lang="en">
   <head>
      <!-- basic -->
      <meta charset="utf-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <!-- mobile metas -->
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta name="viewport" content="initial-scale=1, maximum-scale=1">
      <!-- site metas -->
       <title>{% block title %}International citizen science{% endblock %}</title>
{#      <title>International citizen science</title>#}
      <meta name="keywords" content="">
      <meta name="description" content="">
      <meta name="author" content="">
      <!-- bootstrap css -->
      <link rel="stylesheet" type="text/css" href="{% static 'bootstrap.min.css' %}">
      <!-- style css -->
      <link rel="stylesheet" type="text/css" href="{% static 'style.css' %}">
      <!-- Responsive-->
      <link rel="stylesheet" href="{% static 'responsive.css' %}">
      <!-- Scrollbar Custom CSS -->
      <link rel="stylesheet" href="{% static 'jquery.mCustomScrollbar.min.css' %}">
      <!-- Tweaks for older IEs-->
      <link rel="stylesheet" href="{% static 'font-awesome.min.css' %}">
      <!-- fonts -->
      <link href="https://fonts.googleapis.com/css?family=Poppins:400,700|Roboto:400,700&display=swap" rel="stylesheet">
      <!-- owl stylesheets -->
      <link rel="stylesheet" href="{% static 'owl.carousel.min.css' %}">
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.5/jquery.fancybox.min.css" media="screen">
   </head>
   <body>

   {% if messages %}
      {% for message in messages %}
          <div class="container-fluid p-0">
              <div class="alert {{ message.tags }} alert-dismissible" role="alert" id="message_box">
                      <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                          <span aria-hidden="true">&times;</span>
                      </button>
                  {{ message }}
              </div>
      {% endfor %}
  {% endif %}

      <!--header section start -->
{% block headerSection %}
      <div class="header_section">
         <nav class="navbar navbar-expand-lg navbar-light bg-light">
            <div class="logo"><a href="{% url 'home' %}"><img src="{% static 'images/logo.png' %}" alt=""></a></div>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
            </button>
             <div class="collapse navbar-collapse" id="navbarSupportedContent" >
               <ul class="navbar-nav mr-auto">
                  <li class="nav-item {% if request.path == '/home_page' %}active{% endif %}">
                     <a class="nav-link" href="{% url 'home' %}">Home</a>
                  </li>
                  <li class="nav-item {% if request.path == '/about/' %}active{% endif %}">
                     <a class="nav-link" href="{% url 'about' %}">About</a>
                  </li>
                   <li class="nav-item {% if request.path == '/forum/' %}active{% endif %}">
                     <a class="nav-link" href="{% url 'forum' %}">Forum</a>

                  </li>
                  <li class="nav-item {% if request.path == '/FAQ/' %}active{% endif %}">
                     <a class="nav-link" href="{% url 'faq' %}">FAQ</a>

                  </li>
               </ul>
            </div>
             {% if request.path != '/login/' %}
                 <div class="navbar-nav">
                     {% if request.user.is_authenticated %}
                         <li><a href="{% url 'profile' request.user.username%}"><img src="{% static request.user.profile_avatar %}" height="45" width="45"></a></li>
                         <a class="welcome-link">Hi {{ request.user.username }}, Welcome!</a>
                         <li class="nav-item {% if request.path == '/logout/' %}active{% endif %}">
                            <a class="nav-link" href="{% url 'logout' %}">Logout</a>
                         </li>
                         {% if request.user.is_staff %}
                             <li><a class="nav-link" href="{% url 'admin:index' %}">Admin Site</a></li>
                         {% endif %}
                     {% else %}
                         <li class="nav-item {% if request.path == '/login/' %}active{% endif %}">
                            <a class="nav-link" id="login-link" href="{% url 'login' %}">Login</a>
                         </li>
                         <li class="nav-item {% if request.path == '/register' %}active{% endif %}">
                            <a class="nav-link" href="{% url 'user_registration' %}">Sign up</a>
                         </li>
                     {% endif %}

                 </div>
            {% endif %}

         </nav>
<!--         banner section start-->
         <div class="banner_section layout_padding">
            <div class="container-fluid">
               <section class="slide-wrapper">
                  <div class="container-fluid">
                     <div id="myCarousel" class="carousel slide" data-ride="carousel">
                        <!-- Wrapper for slides -->
                        <div class="carousel-inner">
                           <div class="carousel-item active">
                              <div class="container">
                                 <div class="banner_main" style="width:33% ;padding: 0; padding-left: 15px; padding-bottom: 0">
                                    <h1 class="banner_taital" style="padding-bottom: 0">Global Search</h1><br>
                                     <h1 class="banner_taital" style="padding-left: 70px; padding-top: 0">Insights</h1>
                                 </div>
                              </div>
                           </div>
                        </div>
                     </div>
                  </div>
               </section>
            </div>
         </div>
<!--         banner section end-->
      </div>
      <!--header section end -->

      <div class="container">
          {% block mainblock %}{% endblock %}
      </div>
        <div class="divider col-md-12">
      </div>
      <!-- footer section start -->
      <div class="footer_section layout_padding">
         <div class="container">
            <div class="footer_section_2">
               <div class="row">
                  <div class="col-lg-4">
                     <h2 class="footer_taital">Follow us on social media:</h2>
                     <div class="social_icon">
                        <ul>
                           <li><a href="https://ayeletlab.net.technion.ac.il/how-good-is-the-quality-of-science-information-available-online-in-my-language/" target="_blank"><img src="{% static 'images/icons8-home-page-30.png'%}"></a></li>
                           <li><a href="https://www.youtube.com/watch?v=ZYTlIdUWxss&t=2s" target="_blank"><img src="{% static 'images/youtub-icon.png'%}"></a></li>
                        </ul>
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </div>
{% endblock %}
      <!-- footer section end -->
      <!-- copyright section start -->
      <div class="copyright_section">
         <div class="container">
            <p class="copyright_text">Copyright 2023 All Rights Reserved.</p>
         </div>
      </div>
      <!-- copyright section end -->

   <!-- Automatic Logout -->
   <script>
       function showLogoutMessage() {
          // Show the logout message or perform any other desired action
           {% if request.user.is_authenticated %}
               alert('You have been logged out due to inactivity.');
               // Redirect the user to the logout page
               window.location.href = '/Logout/';
           {% endif %}


        }


  var logoutTimeout = null;

  function resetLogoutTimer() {
    // Clear the existing timeout
    clearTimeout(logoutTimeout);

        // Set a new timeout to display the logout message after the desired duration
        logoutTimeout = setTimeout(showLogoutMessage, 1200000); // 1200000 milliseconds = 20 minutes * 60 seconds * 1000
      }

      // Attach the resetLogoutTimer function to relevant events that indicate user activity
      // Examples: mousemove, keydown, click, etc.
      window.addEventListener('mousemove', resetLogoutTimer);
      window.addEventListener('keydown', resetLogoutTimer);
    </script>
   </body>
</html>

<script>
var message_tag = document.getElementById("message_box");
setTimeout(function(){message_tag.style.display = "none";}, 3000);
</script>

